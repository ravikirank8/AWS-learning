ğŸ”· What is VPC Peering?
VPC Peering allows two VPCs to communicate privately using private IPs, without using public internet, VPN, or Direct Connect.

ğŸ§  Think of it as a private tunnel between two VPCs.

ğŸ§± How VPC Peering Works (Architecture)
[ VPC A - 10.0.0.0/16 ]                 [ VPC B - 192.168.0.0/16 ]
          |                                        |
          |---------- VPC Peering Connection ------|
                         (Private IP Routing)


Traffic stays inside AWSâ€™s network (low latency, secure)

Uses AWS backbone, not public internet

No gateway or NAT required

Works across:

Same region (intra-region)

Different regions (inter-region)

Same or different AWS accounts

âœ… Key Features & Behavior
| Feature                       | Behavior                                 |
| ----------------------------- | ---------------------------------------- |
| **No transitive routing**     | If A â†” B and B â†” C, A **cannot** reach C |
| **No overlapping CIDR**       | Both VPCs must have **unique** IP ranges |
| **Security groups supported** | Can allow inbound from peered VPC        |
| **Routing table required**    | You must **manually add routes**         |
| **DNS resolution supported**  | Optional; enable if needed               |
| **Cross-account supported**   | Yes (VPCs in different accounts)         |
| **Cross-region supported**    | Yes (Global VPC peering)                 |

ğŸ”§ How to Set It Up
Step-by-Step
Request Peering
From VPC A to VPC B (can be in same or another account)

Accept Peering
From target VPC (VPC B)

Update Route Tables
Each VPC must add route to the otherâ€™s CIDR

(Optional) Enable DNS resolution between VPCs

ğŸ” Security Best Practices
| Action                            | Purpose                                 |
| --------------------------------- | --------------------------------------- |
| Only peer required VPCs           | Avoid flat, insecure network            |
| Use route table filtering         | Avoid exposing entire CIDR              |
| Enable flow logs                  | Monitor inter-VPC traffic               |
| Donâ€™t use peering for large-scale | Prefer **Transit Gateway** for 10+ VPCs |


ğŸ’² VPC Peering Pricing
ğŸ§  This is a common exam question, so pay attention!
| Region                               | Price                            |
| ------------------------------------ | -------------------------------- |
| **Intra-region** (same region)       | **Free** â€” no data transfer cost |
| **Inter-region** (different regions) | **Paid per GB** transferred      |

ğŸ“Š Sample Inter-region Data Transfer Cost:
| Example                      | Cost/GB (approx)   |
| ---------------------------- | ------------------ |
| US East â†” US West            | \~\$0.01/GB        |
| US â†” APAC (India, Singapore) | \~\$0.02â€“\$0.05/GB |

âš ï¸ VPC Peering Limitations
| Limitation                        | Detail                                        |
| --------------------------------- | --------------------------------------------- |
| No transitive routing             | Must connect each VPC explicitly              |
| Max peering connections           | Default 125 (can increase with limit request) |
| Max routes per table              | 1000 (soft limit)                             |
| Doesnâ€™t support IPv6-only peering | Only dual-stack or IPv4                       |

ğŸ§  Real-World Thinking â€“ Solution Architect POV
| Scenario                       | Recommendation                                                |
| ------------------------------ | ------------------------------------------------------------- |
| 2-5 VPCs needing communication | Use VPC Peering                                               |
| >10 VPCs                       | Use **Transit Gateway** instead                               |
| Multi-account communication    | VPC Peering is OK, consider **Resource Access Manager (RAM)** |
| Centralized networking         | Prefer **TGW** for hub-and-spoke design                       |

ğŸ” VPC Peering vs. Transit Gateway (Comparison)
| Feature                | VPC Peering       | Transit Gateway             |
| ---------------------- | ----------------- | --------------------------- |
| Transitive Routing     | âŒ No              | âœ… Yes                       |
| Scalability            | Low (125)         | High (5000+)                |
| Centralized management | âŒ No              | âœ… Yes                       |
| Use case               | Point-to-point    | Hub-and-spoke               |
| Pricing                | Intra-region free | Data processing fee applies |


ğŸŒ² Decision Tree: Should You Use VPC Peering?
Need to connect two VPCs privately?
 â””â”€â”€ Yes
     â”œâ”€â”€ < 10 VPCs involved?
     â”‚     â””â”€â”€ Use VPC Peering
     â”‚         â”œâ”€â”€ Same region?
     â”‚         â”‚     â””â”€â”€ Intra-region peering (Free)
     â”‚         â””â”€â”€ Different region?
     â”‚               â””â”€â”€ Inter-region peering (Charged per GB)
     â””â”€â”€ > 10 VPCs or complex topology?
           â””â”€â”€ Use Transit Gateway
âœ… Summary Table for Exam
| Topic              | Detail                                             |
| ------------------ | -------------------------------------------------- |
| **What**           | Private link between 2 VPCs                        |
| **Routing**        | Manual, no transitive                              |
| **Region support** | Same and cross-region                              |
| **Cost**           | Free (intra-region), charged per GB (inter-region) |
| **CIDR**           | Must not overlap                                   |
| **Setup**          | Request â†’ Accept â†’ Route Tables                    |
| **Alt for scale**  | Use Transit Gateway for 10+ VPCs                   |
